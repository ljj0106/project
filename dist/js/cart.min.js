"use strict";function Cart(){this.$cartList=$(".cartList"),this.init()}Cart.prototype.init=function(){var t,o=$.cookie("products")?$.cookie("products"):"",i=convertStrToObj(o);for(t in i){var n=i[t];this.$cartList.append('\n            <ul class="goodInfo" data-good-id="'.concat(t,'">\n\t\t\t\t<li><img src="').concat(n.src,'" /></li>\n\t\t\t\t<li>').concat(n.name,"</li>\n\t\t\t\t<li>").concat(n.price,'</li>\n\t\t\t\t<li class="num">\n\t\t\t\t\t<a href="javascript:;" class="minus">-</a>\n\t\t\t\t\t<input type="text" name="" id="" value="').concat(n.num,'" />\n\t\t\t\t\t<a href="javascript:;" class="plus">+</a>\n\t\t\t\t</li>\n\t\t\t\t<li class="total">').concat(n.price*n.num,'</li>\n\t\t\t\t<li><a href="javascript:;" class="del">删除</a></li>\n\t\t\t</ul>\n        '))}$(".minus").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),o=$.cookie("products")?$.cookie("products"):"",o=convertStrToObj(o);1<o[t].num&&o[t].num--,$.cookie("products",JSON.stringify(o),{expires:7,path:"/"}),$(this).next().val(o[t].num),$(this).parent().next().text(o[t].price*o[t].num)})}),$(".plus").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),o=$.cookie("products")?$.cookie("products"):"",o=convertStrToObj(o);o[t].num++,$.cookie("products",JSON.stringify(o),{expires:7,path:"/"}),$(this).prev().val(o[t].num),$(this).parent().next().text(o[t].price*o[t].num)})}),$(".num>input").each(function(){$(this).blur(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),o=$.cookie("products")?$.cookie("products"):"",o=convertStrToObj(o),i=$(this).val();/^\d+$/.test(i)&&0<i?o[t].num=i:o[t].num=1,$.cookie("products",JSON.stringify(o),{expires:7,path:"/"}),$(this).val(o[t].num),$(this).parent().next().text(o[t].price*o[t].num)})}),$(".del").each(function(){$(this).click(function(){var t=$(this).parents(".goodInfo").attr("data-good-id"),o=$.cookie("products")?$.cookie("products"):"",o=convertStrToObj(o);delete o[t],$.cookie("products",JSON.stringify(o),{expires:7,path:"/"}),$(this).parents(".goodInfo").detach()})})},new Cart;