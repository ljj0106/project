"use strict";!function(r){r.fly=function(t,e){var s={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:r.noop},i=this,l=r(t);i.init=function(t){this.setOptions(t),this.settings.autoPlay&&this.play()},i.setOptions=function(t){this.settings=r.extend(!0,{},s,t);var t=this.settings,e=t.start,i=t.end,n=(l.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=i.width&&null!=i.height&&r.extend(!0,e,{width:l.width(),height:l.height()}),Math.min(e.top,i.top)-Math.abs(e.left-i.left)/3),o=(n<t.vertex_Rtop&&(n=Math.min(t.vertex_Rtop,Math.min(e.top,i.top))),Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))),o=Math.ceil(Math.min(Math.max(Math.log(o)/.05-75,30),100)/t.speed),h=e.top==n?0:-Math.sqrt((i.top-n)/(e.top-n)),e=(h*e.left-i.left)/(h-1),h=i.left==e?0:(i.top-n)/Math.pow(i.left-e,2);r.extend(!0,t,{count:-1,steps:o,vertex_left:e,vertex_top:n,curvature:h})},i.play=function(){this.move()},i.move=function(){var t,e,i=this.settings,n=i.start,o=i.count,h=i.steps,s=i.end,a=n.left+(s.left-n.left)*o/h,p=0==i.curvature?n.top+(s.top-n.top)*o/h:i.curvature*Math.pow(a-i.vertex_left,2)+i.vertex_top,n=(null!=s.width&&null!=s.height&&(t=h/2,e=s.width-(s.width-n.width)*Math.cos(o<t?0:(o-t)/(h-t)*Math.PI/2),s=s.height-(s.height-n.height)*Math.cos(o<t?0:(o-t)/(h-t)*Math.PI/2),l.css({width:e+"px",height:s+"px","font-size":Math.min(e,s)+"px"})),l.css({left:a+"px",top:p+"px"}),i.count++,window.requestAnimationFrame(r.proxy(this.move,this)));o==h&&(window.cancelAnimationFrame(n),i.onEnd.apply(this))},i.destory=function(){l.remove()},i.init(e)},r.fn.fly=function(t){return this.each(function(){null==r(this).data("fly")&&r(this).data("fly",new r.fly(this,t))})}}(jQuery);